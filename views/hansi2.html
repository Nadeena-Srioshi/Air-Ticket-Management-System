<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Airline Seat Booking</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script>
    let passengerCount = 1; // Counter for passengers

    function updateSeatOptions(selectElementId) {
      const selectedClass = document.getElementById(selectElementId).value;
      const rowNumberDropdown = document.getElementById(`${selectElementId}-row-number`);
      const columnNumberDropdown = document.getElementById(`${selectElementId}-column-number`);

      // Clear existing options
      rowNumberDropdown.innerHTML = "";
      columnNumberDropdown.innerHTML = "";

      if (selectedClass === "business") {
        // Populate options for Business Class
        for (let i = 1; i <= 3; i++) {
          const rowOption = document.createElement("option");
          rowOption.value = i;
          rowOption.textContent = `Row ${i}`;
          rowNumberDropdown.appendChild(rowOption);
        }

        for (let i = 1; i <= 4; i++) {
          const columnOption = document.createElement("option");
          columnOption.value = i;
          columnOption.textContent = `Column ${String.fromCharCode(64 + i)}`; // A, B, C, D
          columnNumberDropdown.appendChild(columnOption);
        }
      } else if (selectedClass === "economy") {
        // Populate options for Economy Class
        for (let i = 1; i <= 8; i++) {
          const rowOption = document.createElement("option");
          rowOption.value = i;
          rowOption.textContent = `Row ${i}`;
          rowNumberDropdown.appendChild(rowOption);
        }

        for (let i = 1; i <= 6; i++) {
          const columnOption = document.createElement("option");
          columnOption.value = i;
          columnOption.textContent = `Column ${String.fromCharCode(64 + i)}`; // A, B, C, D, E, F
          columnNumberDropdown.appendChild(columnOption);
        }
      }
    }

    function addPassengerForm() {
      passengerCount++;

      const newPassengerForm = document.createElement("div");
      newPassengerForm.id = `passenger-${passengerCount}`;
      newPassengerForm.innerHTML = `
        <hr>
        <h4>Passenger ${passengerCount}</h4>
        <div class="mb-3">
          <label for="mail-${passengerCount}" class="form-label">E-mail</label>
          <input type="email" id="mail-${passengerCount}" name="mail-${passengerCount}" class="form-control" placeholder="abc@gmail.com" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" required>
        </div>
        <div class="mb-3">
          <label for="fname-${passengerCount}" class="form-label">Full Name</label>
          <input type="text" id="fname-${passengerCount}" name="fname-${passengerCount}" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="passport-${passengerCount}" class="form-label">Passport Number</label>
          <input type="text" id="passport-${passengerCount}" name="passport-${passengerCount}" class="form-control" placeholder="Enter your passport number" required>
        </div>
        <div class="mb-3">
          <label for="class-${passengerCount}" class="form-label">Class Preference</label>
          <select id="class-${passengerCount}" name="class-${passengerCount}" class="form-select" onchange="updateSeatOptions('class-${passengerCount}')" required>
            <option value="" disabled selected>Select Class</option>
            <option value="business">Business Class</option>
            <option value="economy">Economy Class</option>
          </select>
        </div>
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="class-${passengerCount}-row-number" class="form-label">Row Number</label>
            <select id="class-${passengerCount}-row-number" name="row-number-${passengerCount}" class="form-select" required></select>
          </div>
          <div class="col-md-6">
            <label for="class-${passengerCount}-column-number" class="form-label">Column Number</label>
            <select id="class-${passengerCount}-column-number" name="column-number-${passengerCount}" class="form-select" required></select>
          </div>
        </div>
      `;

      document.getElementById("passenger-forms").appendChild(newPassengerForm);
    }
  </script>
</head>
<body>
  <div class="container mt-5">
    <div class="reservation-container mt-5">
      <h2 class="text-center mb-4">Airline Seat Booking</h2>
      <form action="submit.php" method="post">
        <div id="passenger-forms">
          <div id="passenger-1">
            <h4>Passenger 1</h4>
            <div class="mb-3">
              <label for="mail-1" class="form-label">E-mail</label>
              <input type="email" id="mail-1" name="mail-1" class="form-control" placeholder="abc@gmail.com" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" required>
            </div>
            <div class="mb-3">
              <label for="fname-1" class="form-label">Full Name</label>
              <input type="text" id="fname-1" name="fname-1" class="form-control" required>
            </div>
            <div class="mb-3">
              <label for="passport-1" class="form-label">Passport Number</label>
              <input type="text" id="passport-1" name="passport-1" class="form-control" placeholder="Enter your passport number" required>
            </div>
            <div class="mb-3">
              <label for="class-1" class="form-label">Class Preference</label>
              <select id="class-1" name="class-1" class="form-select" onchange="updateSeatOptions('class-1')" required>
                <option value="" disabled selected>Select Class</option>
                <option value="business">Business Class</option>
                <option value="economy">Economy Class</option>
              </select>
            </div>
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="class-1-row-number" class="form-label">Row Number</label>
                <select id="class-1-row-number" name="row-number-1" class="form-select" required></select>
              </div>
              <div class="col-md-6">
                <label for="class-1-column-number" class="form-label">Column Number</label>
                <select id="class-1-column-number" name="column-number-1" class="form-select" required></select>
              </div>
            </div>
          </div>
        </div>
        <div class="mt-3">
          <button type="button" class="btn btn-secondary" onclick="addPassengerForm()">Add +</button>
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
